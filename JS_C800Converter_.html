<html>
	<head>
		<style>
			html {
			background-color: #101010;
			color: rgb(221, 221, 221);
			font-family: sans-serif;
			}
			
			table, th, td {
			border: 1px solid white;
			border-collapse: collapse;
			}
			
			span.NoLineBreak {
				white-space: nowrap;
			}
			
			abbr{cursor: help;}
			img.img-hor {
				-moz-transform: scaleX(-1);
				-o-transform: scaleX(-1);
				-webkit-transform: scaleX(-1);
				transform: scaleX(-1);
				filter: FlipH;
				-ms-filter: "FlipH";
			}
			
			input[type=text], input[type=number], td.Statistics {
				font-family: monospace;
			}
		</style>
	</head>
<body>
See: <a href="C800DataFormat.html"><kbd>C800DataFormat.html</kbd></a> for how the blocks are formatted
<table>
	<tr>
		<td colspan="2">
			<div>
				<div><label><input type="radio" name="LevelTypeHorizVert" id="LevelTypeHorizVert_Horiz" checked>Horizontal level</label>:
					<select id="HorizontalLevelTypes" style="font-family: monospace;" onchange="CalculateStatistics()">
						<option>$00: Height=$01B tiles, MaxHScreens=$20</option>
						<option>$01: Height=$01C tiles, MaxHScreens=$20</option>
						<option>$02: Height=$01D tiles, MaxHScreens=$1E</option>
						<option>$03: Height=$020 tiles, MaxHScreens=$1C</option>
						<option>$04: Height=$022 tiles, MaxHScreens=$1A</option>
						<option>$05: Height=$025 tiles, MaxHScreens=$18</option>
						<option>$06: Height=$026 tiles, MaxHScreens=$17</option>
						<option>$07: Height=$028 tiles, MaxHScreens=$16</option>
						<option>$08: Height=$02A tiles, MaxHScreens=$15</option>
						<option>$09: Height=$02C tiles, MaxHScreens=$14</option>
						<option>$0A: Height=$02F tiles, MaxHScreens=$13</option>
						<option>$0B: Height=$031 tiles, MaxHScreens=$12</option>
						<option>$0C: Height=$034 tiles, MaxHScreens=$11</option>
						<option>$0D: Height=$038 tiles, MaxHScreens=$10</option>
						<option>$0E: Height=$03B tiles, MaxHScreens=$0F</option>
						<option>$0F: Height=$040 tiles, MaxHScreens=$0E</option>
						<option>$10: Height=$044 tiles, MaxHScreens=$0D</option>
						<option>$11: Height=$04A tiles, MaxHScreens=$0C</option>
						<option>$12: Height=$051 tiles, MaxHScreens=$0B</option>
						<option>$13: Height=$059 tiles, MaxHScreens=$0A</option>
						<option>$14: Height=$063 tiles, MaxHScreens=$09</option>
						<option>$15: Height=$070 tiles, MaxHScreens=$08</option>
						<option>$16: Height=$080 tiles, MaxHScreens=$07</option>
						<option>$17: Height=$095 tiles, MaxHScreens=$06</option>
						<option>$18: Height=$0B3 tiles, MaxHScreens=$05</option>
						<option>$19: Height=$0E0 tiles, MaxHScreens=$04</option>
						<option>$1A: Height=$12A tiles, MaxHScreens=$03</option>
						<option>$1B: Height=$1C0 tiles, MaxHScreens=$02</option>
						<option>$1C: Height=$380 tiles, MaxHScreens=$01</option>
					</select>
				</div>
				<div><label><input type="radio" name="LevelTypeHorizVert" id="LevelTypeHorizVert_Vert">Vertical level</label></div>
			</div>
		</td>
	</tr>
	<tr>
		<td colspan="2">
				<table>
					<tr><th colspan="2">Normal level (layer 2 is background)</th><th>Graphical memory usage range</th></tr>
					<tr>
						<td>Total blocks in level:</td>
						<td class="Statistics" id="Statistic_TotalBlocksInLevel"></td>
						<td rowspan="9">
							<div style="overflow: auto; resize: vertical; min-width: 500px; min-height: 500px; height: 500px; border: 1px solid white;">
								<svg style="width: 500px; height: 400px; border: 1px solid white;" id="GraphicalC800Map">
									<text stroke="#ffffff" font-weight="lighter" text-anchor="left" alignment-baseline="hanging" font-family="monospace" x="100" y="0">Layer 1 level</text>
									<text stroke="#ffffff" font-weight="lighter" text-anchor="left" alignment-baseline="hanging" font-family="monospace" x="300" y="0">Layer 2 level</text>
								</svg>
							</div>
						</td>
					</tr>
					<tr><td><kbd>$XXC800</kbd> RAM used:</td><td class="Statistics">$C800~$<span id="Statistic_RAMEndingByte">FDFF</span></td></tr>
					<tr><td>XY valid ranges:</td>
						<td class="Statistics">
							<div>X: <span id="Statistic_RightmostXPos">000~511 ($0000~$01FF)</span></div>
							<div>Y: <span id="Statistic_BottommostYPos">026~511 ($0000~$001A)</span></div>
						</td>
					</tr>
					<tr><th colspan="2">Layer 2 level</th></tr>

						<tr class="LevelLayer2Stats"><td>Max number of screens wide:</td><td class="Statistics" id="Statistic_Layer2_MaxScreensWide">16 ($10)</td></tr>
						<tr class="LevelLayer2Stats"><td>Number of blocks in each layer:</td><td class="Statistics" id="Statistic_NumbOfBlocksEachLayer">6912 ($1B00, index up to $1AFF)</td></tr>
						<tr class="LevelLayer2Stats">
							<td><kbd>$XXC800</kbd> RAM used:</td>
							<td class="Statistics">
								<div>Layer 1: $C800~$<span id="Statistic_Layer2Level_Layer1_RAMEndingByte">E2FF</span></div>
								<div>Layer 2: $<span id="Statistic_Layer2Level_Layer2_RAMStartingByte">E300</span>~$<span id="Statistic_Layer2Level_Layer2_RAMEndingByte">FDFF</span></div>
							</td>
						</tr>
						<tr class="LevelLayer2Stats">
							<td>XY valid ranges:</td>
							<td class="Statistics">
								<div>X: <span id="Statistic_RightmostXPos_Layer2">000-255 ($000~$0FF)</span></div>
								<div>Y: <span id="Statistic_BottommostYPos_Layer2">000-026 ($000~$01A)</span></div>
							</td>
						</tr>
						<tr id="Layer2Error" hidden>
							<td colspan="2">Level have a width of 0 means invalid. A completely black screen viewed on Lunar Magic.</td>
						</tr>
				</table>
		</td>
	</tr>
	<tr>
		<td>
			<h2>Convert XY coordinates to index</h2><br>
			<div><kbd>X: </kbd><input type="number" value="0" id="BlockCoordinate_X_Dec" onchange="CorrectInputNumber(); BlockCoordsToIndex();" >($<input type="text" value="0000" id="BlockCoordinate_X_Hex" class="AnyRadixNumberInput" data-input_number_radix="16" onchange="CorrectInputNumber(); BlockCoordsToIndex()">)</div>
			<div><kbd>Y: </kbd><input type="number" value="0" id="BlockCoordinate_Y_Dec" onchange="CorrectInputNumber(); BlockCoordsToIndex();" >($<input type="text" value="0000" id="BlockCoordinate_Y_Hex" class="AnyRadixNumberInput" data-input_number_radix="16" onchange="CorrectInputNumber(); BlockCoordsToIndex()">)</div><br>
			<table>
				<tr>
					<td>Index:</td>
					<td class="Statistics" id="XYCoordsToIndexResult"></td>
				</tr>
				<tr>
					<td>Layer 1 RAM:</td>
					<td class="Statistics" id="XYCoordsToIndexResult_L1Address"></td>
				</tr>
				<tr>
					<td>Layer 2 RAM:</td>
					<td class="Statistics" id="XYCoordsToIndexResult_L2Address"></td>
				</tr>
			</table>
			
		</td>
		<td>
			<h2>Convert Index to XY coords</h2><br>
			<div><kbd>Index: $</kbd><input type="text" value="0000" class="AnyRadixNumberInput" data-input_number_radix="16" onchange="CorrectInputNumber(); IndexToBlockCoords();" id="IndexToCoords"></div><br>
			<table>
				<tr>
					<td>Position:</td>
					<td class="Statistics" id="IndexToBlockCoordsResults" style="white-space: pre;"></td>
				</tr>
			</table>
		</td>
	</tr>
</table>
<div style="overflow: auto; width: 1000px; height: 500px; border: 1px solid white; resize: both">
	<svg id="C800Grid" style="background-color: #808080" onclick="MouseCursorTilemapToCoords()" onmousemove="MouseMoveToXYSVG();">
		<defs>
			<pattern id="BlockGrid_L1Only" width="16" height="16"  patternUnits="userSpaceOnUse">
				<rect x="0" y="0" width="16" height="16" stroke="#000000" stroke-width="1" shape-rendering="crispEdges" fill="#008000"/>
			</pattern>
			<pattern id="BlockGrid_L1L2" width="16" height="16"  patternUnits="userSpaceOnUse">
				<rect x="0" y="0" width="16" height="16" stroke="#000000" stroke-width="1" shape-rendering="crispEdges" fill="#80C000"/>
			</pattern>
			<pattern id="ScreenBoundryGridPeriod" width="256" height="256" patternUnits="userSpaceOnUse" id="ScreenBoundryGrid_Pattern">
				<rect x="0" y="0" width="256" height="256" fill="none" stroke="#0000ff" stroke-width="3" shape-rendering="crispEdges" id="ScreenBoundryGrid_Cell">
			</pattern>
		</defs>
		<rect x="0" y="0" fill="url(#BlockGrid_L1Only)" width="200" height="200" id="C800Grid_TileGrid" />
		<rect x="0" y="0" fill="url(#BlockGrid_L1L2)" width="200" height="200" id="C800Grid_TileGrid_Layer2" />
		<rect x="0" y="0" fill="url(#ScreenBoundryGridPeriod)" id="C800Grid_FilledRectShowingScrnBndry" />
		<rect x="0" y="0" fill="none" stroke="#ffffff" stroke-width="4" id="C800Grid_SelectedBlock" width="16" height="16"/>
	</svg>
</div>
<div>
	<span style="font-family: monospace; white-space: pre;" id="SVGMouseOverBlockXY"></span>
</div>
<div style="height: 500px"></div>

<script>
	const Setting_PadLength_Decimal_XPos = 3;
	const Setting_PadLength_Decimal_YPos = 3;
	const Setting_PadLength_Hex_XPos = 4;
	const Setting_PadLength_Hex_YPos = 4;
	const Setting_StartingLevelM16Data = BigInt("0xC800")
	//Don't touch
		let Statistic_Value_TotalBlocksInLevel = 0n
		let Statistic_Value_RAMEndingByte = BigInt("0xFDFF") //default value
		let Statistic_Value_RightmostXPos = 0n
		let Statistic_Value_BottommostYPos = 0n
		
		let Statistic_Value_Layer2_MaxScreensWide = 16n
		let Statistic_Value_NumbOfBlocksEachLayer = 6912n
		let Statistic_Value_Layer2Level_Layer1_RAMEndingByte = BigInt("0xE2FF")
		let Statistic_Value_Layer2Level_Layer2_RAMStartingByte = BigInt("0xE300")
		let Statistic_Value_Layer2Level_Layer2_RAMEndingByte = BigInt("0xFDFF")
		let Statistic_Value_RightmostXPos_Layer2 = BigInt("0xFF")
		let Statistic_Value_BottommostYPos_Layer2 = BigInt("0x1A")
		
		let CurrentHorizontalLevelSetting = {}
		
		let HalvedScreenRemainder = 0n
		
		let BlocksPerScreenColumnHorizLevel = BigInt("0x01B0")
	
	
	//SVG settings
		const Setting_SVG_GridSizeFactorOver1000 = 20n;
		const Setting_SVG_GraphYPos = 40n;

	[...document.querySelectorAll("[name=LevelTypeHorizVert]")].forEach(Element => {
		Element.addEventListener("change", NoHorizontalTypesIfVerticalSelected)
	});
	SpawnSVGAddressesDisplay()
	UpDownArrowKeysIncrement()
	 //pre-calculate to save them to a variable.
		CalculateStatistics()
		BlockCoordsToIndex()
	//These makes input text act like a number input, pressing UP/DOWN on the arrow keys to increment/decrement it, but with any radixes.
	//In order for this to apply, have these on the number input:
	//- Make sure the class contains "AnyRadixNumberInput"
	//- Specify what radix it is, have the custom attribute [data-input_number_radix="x"] where x
	//  is a radix number that can be any number 2-36. Examples include: 2 = binary, 10 = decimal (default), 16 = hexadecimal.
	//To get this to apply, use this:
	// window.onload = function(){ //Upon loading, apply the function to execute when the up/down arrow keys are pressed.
	//  UpDownArrowKeysIncrement()
	// }
	// This function requires these functions:
	// - ParseBigIntValue
		function UpDownArrowKeysIncrement() {
			let FocusedElement = document.activeElement;
			if(FocusedElement.addEventListener ) {
				FocusedElement.addEventListener('keydown',this.keyHandler,false);
			} else if(FocusedElement.attachEvent ) {
				FocusedElement.attachEvent('onkeydown',this.keyHandler);
			}
		}
	function keyHandler(e) {
		if (((e.code == "ArrowUp")||e.code == "ArrowDown")&&((/(^|\s.*?)AnyRadixNumberInput($|\s.*?)/).test(document.activeElement.className))) {
			let target;
			//Handle radix.
				let Radix = 10
				if ((/^\d+$/).test(document.activeElement.dataset.input_number_radix)) {
					Radix = parseInt(document.activeElement.dataset.input_number_radix)
				}
			let InputNumber = ParseBigIntValue(document.activeElement.value, Radix) //This gets the number
			if (!e) e = window.event;
			if (e.target) target = e.target;
			else if (e.srcElement) target = e.srcElement;
			
			if(e.code == "ArrowUp") {
				InputNumber++
				e.preventDefault()	//Prevents the caret (blinking text cursor) from being placed at the beginning of the line.
			} else if(e.code == "ArrowDown") {
				InputNumber--
			}
			document.activeElement.value = InputNumber.toString(Radix).toUpperCase()
			document.activeElement.setSelectionRange(document.activeElement.value.length, document.activeElement.value.length)
			document.activeElement.onchange()
		}
	}
	function MultiRadixInputs() {
		//This function is for having multiple inputs each having the same number with different radixes that are linked together if one of them changes.
		//For this to apply:
		// - Recommended to use the onchange event to include the effect
		// - Each linked input shall have an unique id
		// - Make sure they have [data-input_number_radix="x"] to specify the radix, else it defaults to 10
		// - Make sure they have [data-list_of_input_radixes_ids_to_update="x"] where X is a space-separated list containing a list of element ids
		//   to update them to show the same number (but with different radix). Make sure that list does not include the ID of itself element, only others.
		// This function requires these functions:
		// - ParseBigIntValue
		let DefaultRadixEventTarget = 10
		if (/^\d+$/.test(event.target.dataset.input_number_radix)) {
			DefaultRadixEventTarget = parseInt(event.target.dataset.input_number_radix)
		}
		event.target.value = ParseBigIntValue(event.target.value, DefaultRadixEventTarget).toString(DefaultRadixEventTarget).toUpperCase() //this makes it so that it corrects the input of itself the user entered.
		let ListOfIds = event.target.dataset.list_of_input_radixes_ids_to_update.match(/[A-Za-z0-9_]+/g)
		for (let Index = 0; Index < ListOfIds.length; Index++) {
			let DefaultRadixListOfIds = 10
			if (/^\d+$/.test(document.getElementById(ListOfIds[Index]).dataset.input_number_radix)) {
				DefaultRadixListOfIds = parseInt(document.getElementById(ListOfIds[Index]).dataset.input_number_radix)
			}
			document.getElementById(ListOfIds[Index]).value = ParseBigIntValue(event.target.value, DefaultRadixEventTarget).toString(DefaultRadixListOfIds).toUpperCase()
		}
	}
	function NoHorizontalTypesIfVerticalSelected() {
		document.getElementById("HorizontalLevelTypes").disabled = !document.getElementById("LevelTypeHorizVert_Horiz").checked
		CalculateStatistics()
	}
	function CorrectInputNumber() {
		let InputNumber = 0n
		if (event.target.type == "number") {
			InputNumber = ParseBigIntValue(event.target.value, 10)
		} else {
			InputNumber = ParseBigIntValue(event.target.value, 16)
		}
		InputNumber = BigintClamp(InputNumber, 0n, 65535n)
		let ListOfInputsEachRadix = [...event.target.parentNode.childNodes].filter(Element => Element.tagName == "INPUT")
		
		ListOfInputsEachRadix.forEach(Element => {
			if (Element.type == "number") {
				Element.value = InputNumber.toString(10)
			} else {
				Element.value = InputNumber.toString(Number(Element.dataset.input_number_radix)).toUpperCase().padStart(4, "0")
			}
		})
	}
	function BigintClamp(num, min, max) {
		//Restrict a number within a specified range, bigInt edition.
			return num <= min ? min : num >= max ? max : num;
	}
	function CalculateStatistics() {
		Statistic_Value_TotalBlocksInLevel = 0n
		Statistic_Value_RAMEndingByte = 0n
		Statistic_Value_RightmostXPos = 0n
		Statistic_Value_BottommostYPos = 0n
		
		if (document.getElementById("LevelTypeHorizVert_Horiz").checked) {
			//Horizontal level
			let HorizontalLevelTypeIndex = document.getElementById("HorizontalLevelTypes").selectedIndex;
			let HorizontalLevelTypes = [
				//Note: ScreenBorderHeights is an array containing the block heights of the
				//screen exit boundaries of each row. Format:
				//
				// {
				//   MainRows: //This refers to the heights of each row. If the last row have a different height, then it's not considered the main row.
				//   {
				//    Height: <BigInt>
				//    Count: <Number> //This is how many rows having the same height, from the top to either the last row (if all heights equal) or the second-last (if the last one is different)
				//   },
				//   UniqueLastRow: <Number> //Height of the last row if the last row have a different height unlike all previous. If same as others, this shall be 0.
				// }
				//
				{Height: "0x001B", MaxHScreens: "0x20", ScreenBorderHeights: {MainRows: {Height: BigInt("0x1B"), Count: 01}, UniqueLastRow: 0n}}, //Setting $00 \1 screen row
				{Height: "0x001C", MaxHScreens: "0x20", ScreenBorderHeights: {MainRows: {Height: BigInt("0x1C"), Count: 01}, UniqueLastRow: 0n}}, //Setting $01 |
				{Height: "0x001D", MaxHScreens: "0x1E", ScreenBorderHeights: {MainRows: {Height: BigInt("0x1D"), Count: 01}, UniqueLastRow: 0n}}, //Setting $02 |
				{Height: "0x0020", MaxHScreens: "0x1C", ScreenBorderHeights: {MainRows: {Height: BigInt("0x20"), Count: 01}, UniqueLastRow: 0n}}, //Setting $03 |
				{Height: "0x0022", MaxHScreens: "0x1A", ScreenBorderHeights: {MainRows: {Height: BigInt("0x22"), Count: 01}, UniqueLastRow: 0n}}, //Setting $04 |
				{Height: "0x0025", MaxHScreens: "0x18", ScreenBorderHeights: {MainRows: {Height: BigInt("0x25"), Count: 01}, UniqueLastRow: 0n}}, //Setting $05 |
				{Height: "0x0026", MaxHScreens: "0x17", ScreenBorderHeights: {MainRows: {Height: BigInt("0x26"), Count: 01}, UniqueLastRow: 0n}}, //Setting $06 |
				{Height: "0x0028", MaxHScreens: "0x16", ScreenBorderHeights: {MainRows: {Height: BigInt("0x28"), Count: 01}, UniqueLastRow: 0n}}, //Setting $07 |
				{Height: "0x002A", MaxHScreens: "0x15", ScreenBorderHeights: {MainRows: {Height: BigInt("0x2A"), Count: 01}, UniqueLastRow: 0n}}, //Setting $08 |
				{Height: "0x002C", MaxHScreens: "0x14", ScreenBorderHeights: {MainRows: {Height: BigInt("0x2C"), Count: 01}, UniqueLastRow: 0n}}, //Setting $09 |
				{Height: "0x002F", MaxHScreens: "0x13", ScreenBorderHeights: {MainRows: {Height: BigInt("0x2F"), Count: 01}, UniqueLastRow: 0n}}, //Setting $0A |
				{Height: "0x0031", MaxHScreens: "0x12", ScreenBorderHeights: {MainRows: {Height: BigInt("0x31"), Count: 01}, UniqueLastRow: 0n}}, //Setting $0B |
				{Height: "0x0034", MaxHScreens: "0x11", ScreenBorderHeights: {MainRows: {Height: BigInt("0x34"), Count: 01}, UniqueLastRow: 0n}}, //Setting $0C /
				{Height: "0x0038", MaxHScreens: "0x10", ScreenBorderHeights: {MainRows: {Height: 28n, Count: 02}, UniqueLastRow: BigInt("00")}}, //Setting $0D \2 screen rows
				{Height: "0x003B", MaxHScreens: "0x0F", ScreenBorderHeights: {MainRows: {Height: 29n, Count: 01}, UniqueLastRow: BigInt("30")}}, //Setting $0E |Also, had to use BigInt("decimal number string") because
				{Height: "0x0040", MaxHScreens: "0x0E", ScreenBorderHeights: {MainRows: {Height: 32n, Count: 02}, UniqueLastRow: BigInt("00")}}, //Setting $0F |having leading zeroes using n notation (such as 00n) causes errors
				{Height: "0x0044", MaxHScreens: "0x0D", ScreenBorderHeights: {MainRows: {Height: 34n, Count: 02}, UniqueLastRow: BigInt("00")}}, //Setting $10 |
				{Height: "0x004A", MaxHScreens: "0x0C", ScreenBorderHeights: {MainRows: {Height: 37n, Count: 02}, UniqueLastRow: BigInt("00")}}, //Setting $11 |
				{Height: "0x0051", MaxHScreens: "0x0B", ScreenBorderHeights: {MainRows: {Height: 40n, Count: 01}, UniqueLastRow: BigInt("41")}}, //Setting $12 /
				{Height: "0x0059", MaxHScreens: "0x0A", ScreenBorderHeights: {MainRows: {Height: 29n, Count: 02}, UniqueLastRow: BigInt("31")}}, //Setting $13 \3 screen rows
				{Height: "0x0063", MaxHScreens: "0x09", ScreenBorderHeights: {MainRows: {Height: 33n, Count: 03}, UniqueLastRow: BigInt("00")}}, //Setting $14 /
				{Height: "0x0070", MaxHScreens: "0x08", ScreenBorderHeights: {MainRows: {Height: 28n, Count: 04}, UniqueLastRow: BigInt("00")}}, //Setting $15 \4 screen rows
				{Height: "0x0080", MaxHScreens: "0x07", ScreenBorderHeights: {MainRows: {Height: 32n, Count: 04}, UniqueLastRow: BigInt("00")}}, //Setting $16 /
				{Height: "0x0095", MaxHScreens: "0x06", ScreenBorderHeights: {MainRows: {Height: 29n, Count: 04}, UniqueLastRow: BigInt("33")}}, //Setting $17 >5 screen rows
				{Height: "0x00B3", MaxHScreens: "0x05", ScreenBorderHeights: {MainRows: {Height: 29n, Count: 05}, UniqueLastRow: BigInt("34")}}, //Setting $18 >6 screen rows
				{Height: "0x00E0", MaxHScreens: "0x04", ScreenBorderHeights: {MainRows: {Height: 28n, Count: 08}, UniqueLastRow: BigInt("00")}}, //Setting $19 >8 screen rows
				{Height: "0x012A", MaxHScreens: "0x03", ScreenBorderHeights: {MainRows: {Height: 29n, Count: 09}, UniqueLastRow: BigInt("37")}}, //Setting $1A >9 screen rows
				{Height: "0x01C0", MaxHScreens: "0x02", ScreenBorderHeights: {MainRows: {Height: 28n, Count: 16}, UniqueLastRow: BigInt("00")}}, //Setting $1B >16 screen rows
				{Height: "0x0380", MaxHScreens: "0x01", ScreenBorderHeights: {MainRows: {Height: 28n, Count: 32}, UniqueLastRow: BigInt("00")}}  //Setting $1C >32 screen rows
			].map(LevelDimensionSetting => {
				return {
					Height: BigInt(LevelDimensionSetting.Height),
					MaxHScreens: BigInt(LevelDimensionSetting.MaxHScreens),
					ScreenBorderHeights: LevelDimensionSetting.ScreenBorderHeights
				}
			})
			CurrentHorizontalLevelSetting = HorizontalLevelTypes[HorizontalLevelTypeIndex]
			BlocksPerScreenColumnHorizLevel = CurrentHorizontalLevelSetting.Height*16n
			//Layer 1 stats
				Statistic_Value_TotalBlocksInLevel = CurrentHorizontalLevelSetting.Height*16n*CurrentHorizontalLevelSetting.MaxHScreens
				Statistic_Value_RAMEndingByte = Setting_StartingLevelM16Data + Statistic_Value_TotalBlocksInLevel-1n
				Statistic_Value_RightmostXPos = (CurrentHorizontalLevelSetting.MaxHScreens*16n)-1n
				Statistic_Value_BottommostYPos = CurrentHorizontalLevelSetting.Height-1n
			//Layer 2 level stats
				Statistic_Value_Layer2_MaxScreensWide = CurrentHorizontalLevelSetting.MaxHScreens/2n
				HalvedScreenRemainder = CurrentHorizontalLevelSetting.MaxHScreens % 2n //If there are odd screens left, there is a gap between L1's last byte and L2's first byte
				let Layer2StatisticsElementsToShowAndHide = [...document.querySelectorAll("tr.LevelLayer2Stats")]
				if (Statistic_Value_Layer2_MaxScreensWide != 0n) {
					Layer2StatisticsElementsToShowAndHide.forEach(Ele => Ele.hidden = false)
					document.getElementById("Layer2Error").hidden = true
					Statistic_Value_NumbOfBlocksEachLayer = CurrentHorizontalLevelSetting.Height*16n*Statistic_Value_Layer2_MaxScreensWide
					Statistic_Value_Layer2Level_Layer1_RAMEndingByte = Setting_StartingLevelM16Data + Statistic_Value_NumbOfBlocksEachLayer-1n
					Statistic_Value_Layer2Level_Layer2_RAMStartingByte = Setting_StartingLevelM16Data + Statistic_Value_NumbOfBlocksEachLayer + (CurrentHorizontalLevelSetting.Height*16n*HalvedScreenRemainder)
					Statistic_Value_Layer2Level_Layer2_RAMEndingByte = Statistic_Value_Layer2Level_Layer2_RAMStartingByte + Statistic_Value_NumbOfBlocksEachLayer-1n
					Statistic_Value_RightmostXPos_Layer2 = (Statistic_Value_Layer2_MaxScreensWide*16n)-1n
					Statistic_Value_BottommostYPos_Layer2 = Statistic_Value_BottommostYPos
				} else {
					Layer2StatisticsElementsToShowAndHide.forEach(Ele => Ele.hidden = true)
					document.getElementById("Layer2Error").hidden = false
					//A 0-wide level
				}
			
			
		} else {
			//Vertical level
			Statistic_Value_TotalBlocksInLevel = 14336n
			Statistic_Value_RAMEndingByte = Setting_StartingLevelM16Data + Statistic_Value_TotalBlocksInLevel-1n
			Statistic_Value_Layer2_MaxScreensWide = 2n
			Statistic_Value_NumbOfBlocksEachLayer = 7168n
			Statistic_Value_Layer2Level_Layer1_RAMEndingByte = Setting_StartingLevelM16Data + Statistic_Value_NumbOfBlocksEachLayer - 1n
			Statistic_Value_Layer2Level_Layer2_RAMStartingByte = Statistic_Value_Layer2Level_Layer1_RAMEndingByte+1n
			Statistic_Value_Layer2Level_Layer2_RAMEndingByte = Statistic_Value_Layer2Level_Layer2_RAMStartingByte + Statistic_Value_NumbOfBlocksEachLayer -1n
			Statistic_Value_RightmostXPos = 31n
			Statistic_Value_RightmostXPos_Layer2 = 31n
			Statistic_Value_BottommostYPos = BigInt("0x1BF")
			Statistic_Value_BottommostYPos_Layer2 = BigInt("0xDF")
		}
		//layer 1 level
			document.getElementById("Statistic_TotalBlocksInLevel").textContent = Statistic_Value_TotalBlocksInLevel.toString(10) + " ($" + Statistic_Value_TotalBlocksInLevel.toString(16).toUpperCase().padStart(4, "0") + ", index up to $" + (Statistic_Value_TotalBlocksInLevel-1n).toString(16).toUpperCase().padStart(4, "0") + ")"
			document.getElementById("Statistic_RAMEndingByte").textContent = Statistic_Value_RAMEndingByte.toString(16).toUpperCase().padStart(4, "0")
			{
				let YPos = Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let BottomYPos = (Statistic_Value_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Height = BottomYPos - YPos
				document.getElementById("Layer1LevelUsage").setAttribute("height", Height.toString(10))
			}
			document.getElementById("Statistic_RightmostXPos").textContent = ("0").padStart(Setting_PadLength_Decimal_XPos, "0") + "~" + Statistic_Value_RightmostXPos.toString(10).padStart(Setting_PadLength_Decimal_XPos, "0") + " ($" + ("0").padStart(Setting_PadLength_Hex_XPos, "0") + "~$" + Statistic_Value_RightmostXPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_XPos, "0") + ")"
			document.getElementById("Statistic_BottommostYPos").textContent = ("0").padStart(Setting_PadLength_Decimal_YPos, "0") + "~" + Statistic_Value_BottommostYPos.toString(10).padStart(Setting_PadLength_Decimal_YPos, "0") + " ($" + ("0").padStart(Setting_PadLength_Hex_YPos, "0") +"~$" + Statistic_Value_BottommostYPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_YPos, "0") + ")"
		//Layer 2 level
			document.getElementById("Statistic_Layer2_MaxScreensWide").textContent = Statistic_Value_Layer2_MaxScreensWide.toString(10) + " ($" + Statistic_Value_Layer2_MaxScreensWide.toString(16).toUpperCase().padStart(2, "0") + ")"
			document.getElementById("Statistic_NumbOfBlocksEachLayer").textContent = Statistic_Value_NumbOfBlocksEachLayer.toString(10) + " ($" + Statistic_Value_NumbOfBlocksEachLayer.toString(16).toUpperCase().padStart(4, "0") + ", index up to $" + (Statistic_Value_NumbOfBlocksEachLayer-1n).toString(16).toUpperCase().padStart(4, "0") + ")"
			document.getElementById("Statistic_Layer2Level_Layer1_RAMEndingByte").textContent = (Statistic_Value_Layer2Level_Layer1_RAMEndingByte).toString(16).toUpperCase()
			document.getElementById("Statistic_Layer2Level_Layer2_RAMStartingByte").textContent = Statistic_Value_Layer2Level_Layer2_RAMStartingByte.toString(16).toUpperCase()
			document.getElementById("Statistic_Layer2Level_Layer2_RAMEndingByte").textContent = Statistic_Value_Layer2Level_Layer2_RAMEndingByte.toString(16).toUpperCase()
			{
				let YPos = Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Layer1BottomYPos = (Statistic_Value_Layer2Level_Layer1_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Layer1Height = Layer1BottomYPos - YPos
				
				
				let YPos2 = (Statistic_Value_Layer2Level_Layer2_RAMStartingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Layer2BottomYPos = (Statistic_Value_Layer2Level_Layer2_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Layer2Height = Layer2BottomYPos - YPos2
				
				if (Statistic_Value_Layer2_MaxScreensWide == 0n) {
					Layer1Height = 0n
					Layer2Height = 0n
				}
				document.getElementById("Layer1LevelUsage_Layer2Level").setAttribute("height", Layer1Height.toString(10))
				document.getElementById("Layer2LevelUsage_Layer2Level").setAttribute("transform", "translate(320, " + (YPos2).toString(10) + ")")
				document.getElementById("Layer2LevelUsage_Layer2Level").setAttribute("height", Layer2Height.toString(10))
			}
			document.getElementById("Statistic_RightmostXPos_Layer2").textContent = ("0").padStart(Setting_PadLength_Decimal_XPos, "0") + "~" + Statistic_Value_RightmostXPos_Layer2.toString(10).padStart(Setting_PadLength_Decimal_XPos, "0") + " ($" + ("0").padStart(Setting_PadLength_Hex_XPos, "0") + "~$" + Statistic_Value_RightmostXPos_Layer2.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_XPos, "0") + ")"
			document.getElementById("Statistic_BottommostYPos_Layer2").textContent = ("0").padStart(Setting_PadLength_Decimal_YPos, "0") + "~" + Statistic_Value_BottommostYPos_Layer2.toString(10).padStart(Setting_PadLength_Decimal_YPos, "0") + " ($" + ("0").padStart(Setting_PadLength_Hex_YPos, "0") + "~$" + Statistic_Value_BottommostYPos_Layer2.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_YPos, "0") + ")"
		//Handle SVG width and height
			//Main svg
				document.getElementById("C800Grid").setAttribute("width", ((Statistic_Value_RightmostXPos+1n)*16n).toString(10) + "px")
				document.getElementById("C800Grid").setAttribute("height", ((Statistic_Value_BottommostYPos+1n)*16n).toString(10) + "px")
			//Block grid
				document.getElementById("C800Grid_TileGrid").setAttribute("width", (Statistic_Value_RightmostXPos+1n)*16n)
				document.getElementById("C800Grid_TileGrid").setAttribute("height", (Statistic_Value_BottommostYPos+1n)*16n)
				if (Statistic_Value_Layer2_MaxScreensWide != 0n) {
					document.getElementById("C800Grid_TileGrid_Layer2").setAttribute("width", (Statistic_Value_RightmostXPos_Layer2+1n)*16n)
					document.getElementById("C800Grid_TileGrid_Layer2").setAttribute("height", (Statistic_Value_BottommostYPos_Layer2+1n)*16n)
				} else {
					document.getElementById("C800Grid_TileGrid_Layer2").setAttribute("width", 0n)
					document.getElementById("C800Grid_TileGrid_Layer2").setAttribute("height", 0n)
				}
			//Screen boundry grid
				if (document.getElementById("LevelTypeHorizVert_Horiz").checked) {
					document.getElementById("C800Grid_FilledRectShowingScrnBndry").setAttribute("width", CurrentHorizontalLevelSetting.MaxHScreens*256n) //Total level width in pixels
					document.getElementById("C800Grid_FilledRectShowingScrnBndry").setAttribute("height", CurrentHorizontalLevelSetting.ScreenBorderHeights.MainRows.Height*BigInt(CurrentHorizontalLevelSetting.ScreenBorderHeights.MainRows.Count)*16n) //Total level height in pixel
					document.getElementById("ScreenBoundryGrid_Cell").setAttribute("width", 256n) //The height of each screen rows, other than the last if the last have a different height
					document.getElementById("ScreenBoundryGrid_Cell").setAttribute("height", CurrentHorizontalLevelSetting.ScreenBorderHeights.MainRows.Height*16n)
					
					document.getElementById("ScreenBoundryGridPeriod").setAttribute("width", 256n) 
					document.getElementById("ScreenBoundryGridPeriod").setAttribute("height", CurrentHorizontalLevelSetting.ScreenBorderHeights.MainRows.Height*16n) //Same as above but is the height of the same-height screens total
				} else {
					document.getElementById("C800Grid_FilledRectShowingScrnBndry").setAttribute("width", 512n) //Total level width in pixels
					document.getElementById("C800Grid_FilledRectShowingScrnBndry").setAttribute("height", 8192n) //Total level height in pixel
					document.getElementById("ScreenBoundryGrid_Cell").setAttribute("width", 512n) //The height of each screen rows, other than the last if the last have a different height
					document.getElementById("ScreenBoundryGrid_Cell").setAttribute("height", 256n) //The height of each screen rows, other than the last if the last have a different height
					
					document.getElementById("ScreenBoundryGridPeriod").setAttribute("width", 512n) //Same as above but is the height of the same-height screens total
					document.getElementById("ScreenBoundryGridPeriod").setAttribute("height", 256n) //Same as above but is the height of the same-height screens total
				}

	//Update converters
		BlockCoordsToIndex()
		IndexToBlockCoords()
	}

	function CorrectHexBigIntValue(String) {
		//This converts the user's input hex string (negative numbers not allowed)
		//to BigInt.
			if ((/^([0-9]|[A-F]|[a-f])+$/).test(String) == false) {
				String = 0n
			}
			return CanConvertHexStringToBigInt = BigInt("0x" + String)
	}
	function ParseBigIntValue(string, radix) {
		//Acts more closely to parseInt, unlike other methods (other functions, like CorrectBinBigIntValue)
		//this works with bigInt.
		let Output = 0n
		let NegativeNumber = 1n
		if ((/^-/).test(string)) {
			NegativeNumber = -1n
		}
		let DigitPart = string.substring((string.search(/[0-9a-zA-Z]/)))
		switch (radix) {
			//decimal
				default:
				if ((/^-?\d+$/).test(string)) {
					Output = BigInt(string)
				}
				break
			//Hexadecimal
				case 16:
				case "0x":
				case "0X":
				if ((/^-?[0-9A-Fa-f]+$/).test(string)) {
					Output = BigInt("0x" + DigitPart) * NegativeNumber
				}
				break
			//Binary
				case 2:
				case "0b":
				case "0B":
				if ((/^-?[01]+$/).test(string)) {
					Output = BigInt("0b" + DigitPart) * NegativeNumber
				}
		
		}
		return Output
	}
	function BlockCoordsToIndex() {
		let XPos = ParseBigIntValue(document.getElementById("BlockCoordinate_X_Dec").value)
		let YPos = ParseBigIntValue(document.getElementById("BlockCoordinate_Y_Dec").value)
		
		document.getElementById("C800Grid_SelectedBlock").setAttribute("x", XPos*16n)
		document.getElementById("C800Grid_SelectedBlock").setAttribute("y", YPos*16n)
		
		if ((XPos <= Statistic_Value_RightmostXPos)&&(YPos <= Statistic_Value_BottommostYPos)) {
			document.getElementById("C800Grid_SelectedBlock").setAttribute("visibility", "visible")
			let StartingAddressString = Setting_StartingLevelM16Data.toString(16).toUpperCase().padStart(4, "0")
			let StartingAddressLayer2String = Statistic_Value_Layer2Level_Layer2_RAMStartingByte.toString(16).toUpperCase().padStart(4, "0")
			let Index = 0n
			if (document.getElementById("LevelTypeHorizVert_Horiz").checked) {
				Index = (BlocksPerScreenColumnHorizLevel*(XPos/16n))+(YPos*16n)+(XPos%16n)
			} else {
				Index = (512n*(YPos/16n))+(256n*(XPos/16n))+((YPos%16n)*16n)+(XPos%16n)
			}
			let IndexString = Index.toString(16).toUpperCase().padStart(4, "0")
			document.getElementById("XYCoordsToIndexResult").textContent = "$"  + IndexString
			document.getElementById("XYCoordsToIndexResult_L1Address").textContent = "$" + (Setting_StartingLevelM16Data + Index).toString(16).toUpperCase().padStart(4, "0") + " ($" + StartingAddressString + " + $" + IndexString + ")"
			if ((XPos <= Statistic_Value_RightmostXPos_Layer2)&&(YPos <= Statistic_Value_BottommostYPos_Layer2)) {
				document.getElementById("XYCoordsToIndexResult_L2Address").textContent = "$" + (Statistic_Value_Layer2Level_Layer2_RAMStartingByte + Index).toString(16).toUpperCase().padStart(4, "0") + " ($" + StartingAddressLayer2String + " + $" + IndexString + ")"
			} else {
				document.getElementById("XYCoordsToIndexResult_L2Address").textContent = "N/A (Outside level bounds for layer 2 level)"
			}
		} else {
			document.getElementById("XYCoordsToIndexResult").textContent = "Out of level bounds"
			document.getElementById("XYCoordsToIndexResult_L1Address").textContent = "N/A"
			document.getElementById("XYCoordsToIndexResult_L2Address").textContent = "N/A"
			document.getElementById("C800Grid_SelectedBlock").setAttribute("visibility", "hidden")
		}
	}
	function IndexToBlockCoords() {
		let EnteredIndex = ParseBigIntValue(document.getElementById("IndexToCoords").value, 16)
		let XPos = 0n
		let YPos = 0n
		if (document.getElementById("LevelTypeHorizVert_Horiz").checked) {
			XPos = ((EnteredIndex/BlocksPerScreenColumnHorizLevel)*16n) + (EnteredIndex % 16n)
			YPos = (EnteredIndex % BlocksPerScreenColumnHorizLevel)/16n
		} else {
			XPos = (((EnteredIndex % 512n)/256n)*16n) + (EnteredIndex % 16n)
			YPos = ((EnteredIndex/512n)*16n) + ((EnteredIndex/16n) % 16n)
		}
		if (EnteredIndex < Statistic_Value_TotalBlocksInLevel) {
			document.getElementById("IndexToBlockCoordsResults").textContent = "X: " + XPos.toString(10).padStart(Setting_PadLength_Decimal_XPos, "0") + " ($" + XPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_XPos, "0") + ")\nY: " + YPos.toString(10).padStart(Setting_PadLength_Decimal_YPos, "0") + " ($" + YPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_YPos, "0") + ")"
		} else {
			document.getElementById("IndexToBlockCoordsResults").textContent = "Index beyond last block."
		}
	}
	function SpawnSVGAddressesDisplay() {
		let GraphicalC800Map_Display = document.getElementById("GraphicalC800Map")
		let CurrentAddress = Setting_StartingLevelM16Data
		let EndingAddress = BigInt("0xFFFF")
		let FailsafeLoopLimiter = 100
		
		//Display address by the Y axis
			for (let LoopCount = 0; LoopCount < FailsafeLoopLimiter; LoopCount++) {
				let YPos = (CurrentAddress-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				
				let AddressNumberText = createSVGElement("text")
				//AddressNumberText.setAttribute("stroke", "#ffffff")
				AddressNumberText.setAttribute("fill", "#ffffff")
				AddressNumberText.setAttribute("font-weight", "lighter")
				AddressNumberText.setAttribute("text-anchor", "left")
				AddressNumberText.setAttribute("alignment-baseline", "middle")
				AddressNumberText.setAttribute("font-family", "monospace")
				AddressNumberText.appendChild(document.createTextNode("$" + CurrentAddress.toString(16).toUpperCase()))
				AddressNumberText.setAttribute("transform", "translate(0, " + (YPos).toString(10) + ")")
				GraphicalC800Map_Display.appendChild(AddressNumberText)
				
				let HorizontalLine = createSVGElement("line")
				HorizontalLine.setAttribute("stroke", "#ffffff")
				HorizontalLine.setAttribute("x1", "40")
				HorizontalLine.setAttribute("x2", "1000")
				HorizontalLine.setAttribute("y1", (YPos).toString(10))
				HorizontalLine.setAttribute("y2", (YPos).toString(10))
				GraphicalC800Map_Display.appendChild(HorizontalLine)
				
				CurrentAddress += BigInt("0x0800")
				if (CurrentAddress > EndingAddress) {
					break
				}
			}
			{
				//Ending address
				let YPos = (EndingAddress-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let AddressNumberText_EndingAddress = createSVGElement("text")
				AddressNumberText_EndingAddress.setAttribute("fill", "#ffffff")
				AddressNumberText_EndingAddress.setAttribute("font-weight", "lighter")
				AddressNumberText_EndingAddress.setAttribute("text-anchor", "left")
				AddressNumberText_EndingAddress.setAttribute("alignment-baseline", "middle")
				AddressNumberText_EndingAddress.setAttribute("font-family", "monospace")
				AddressNumberText_EndingAddress.appendChild(document.createTextNode("$" + EndingAddress.toString(16).toUpperCase()))
				AddressNumberText_EndingAddress.setAttribute("transform", "translate(0, " + (YPos).toString(10) + ")")
				GraphicalC800Map_Display.appendChild(AddressNumberText_EndingAddress)
				
				let HorizontalLine = createSVGElement("line")
				HorizontalLine.setAttribute("stroke", "#ffffff")
				HorizontalLine.setAttribute("x1", "40")
				HorizontalLine.setAttribute("x2", "1000")
				HorizontalLine.setAttribute("y1", (YPos).toString(10))
				HorizontalLine.setAttribute("y2", (YPos).toString(10))
				GraphicalC800Map_Display.appendChild(HorizontalLine)
			}
		//Display level layer 1 range
			{
				let YPos = Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let BottomYPos = (Statistic_Value_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Height = BottomYPos - YPos
				let RAMUsageBar = createSVGElement("rect")
				RAMUsageBar.setAttribute("id", "Layer1LevelUsage")
				RAMUsageBar.setAttribute("rx", "8")
				RAMUsageBar.setAttribute("ry", "8")
				RAMUsageBar.setAttribute("transform", "translate(120, " + (YPos).toString(10) + ")")
				RAMUsageBar.setAttribute("height", Height.toString(10))
				RAMUsageBar.setAttribute("width", "40")
				RAMUsageBar.setAttribute("fill", "#008000")
				GraphicalC800Map_Display.appendChild(RAMUsageBar)
			}
			{
				//Layer 1 in layer 2 level
				let YPos = Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let BottomYPos = (Statistic_Value_Layer2Level_Layer1_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Height = BottomYPos - YPos
				let RAMUsageBar = createSVGElement("rect")
				RAMUsageBar.setAttribute("id", "Layer1LevelUsage_Layer2Level")
				RAMUsageBar.setAttribute("rx", "8")
				RAMUsageBar.setAttribute("ry", "8")
				RAMUsageBar.setAttribute("transform", "translate(320, " + (YPos).toString(10) + ")")
				RAMUsageBar.setAttribute("height", Height.toString(10))
				RAMUsageBar.setAttribute("width", "40")
				RAMUsageBar.setAttribute("fill", "#008000")
				GraphicalC800Map_Display.appendChild(RAMUsageBar)
			}
			{
				//Layer 2 in layer 2 level
				let YPos = (Statistic_Value_Layer2Level_Layer2_RAMStartingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let BottomYPos = (Statistic_Value_Layer2Level_Layer2_RAMEndingByte-Setting_StartingLevelM16Data)*Setting_SVG_GridSizeFactorOver1000/1000n+Setting_SVG_GraphYPos
				let Height = BottomYPos - YPos
				let RAMUsageBar = createSVGElement("rect")
				RAMUsageBar.setAttribute("id", "Layer2LevelUsage_Layer2Level")
				RAMUsageBar.setAttribute("rx", "8")
				RAMUsageBar.setAttribute("ry", "8")
				RAMUsageBar.setAttribute("transform", "translate(320, " + (YPos).toString(10) + ")")
				RAMUsageBar.setAttribute("height", Height.toString(10))
				RAMUsageBar.setAttribute("width", "40")
				RAMUsageBar.setAttribute("fill", "#C0C000")
				GraphicalC800Map_Display.appendChild(RAMUsageBar)
			}
	}
	function MouseCursorTilemapToCoords() {
		event.preventDefault()
		let SVGTileGrid = event.target
		let MouseXRelativeToElement = event.offsetX
		let MouseYRelativeToElement = event.offsetY
		
		let ClickedBlockXPos = BigInt(Math.floor(MouseXRelativeToElement/16))
		let ClickedBlockYPos = BigInt(Math.floor(MouseYRelativeToElement/16))
		document.getElementById("C800Grid_SelectedBlock").setAttribute("visibility", "visible") //failsafe
		
		document.getElementById("C800Grid_SelectedBlock").setAttribute("x", ClickedBlockXPos*16n) //(Multiply back up AFTER rounding so that selected block is aligned with the 16x16 dimension grid)
		document.getElementById("C800Grid_SelectedBlock").setAttribute("y", ClickedBlockYPos*16n) 
		
		document.getElementById("BlockCoordinate_X_Dec").value = ClickedBlockXPos.toString(10)
		document.getElementById("BlockCoordinate_X_Hex").value = ClickedBlockXPos.toString(16).toUpperCase().padStart(4, "0")
		document.getElementById("BlockCoordinate_Y_Dec").value = ClickedBlockYPos.toString(10)
		document.getElementById("BlockCoordinate_Y_Hex").value = ClickedBlockYPos.toString(16).toUpperCase().padStart(4, "0")
		
		
		BlockCoordsToIndex();
	}
	function MouseMoveToXYSVG() {
		let MouseXRelativeToElement = event.offsetX
		let MouseYRelativeToElement = event.offsetY
		
		let BlockXPos = BigInt(Math.floor(MouseXRelativeToElement/16))
		let BlockYPos = BigInt(Math.floor(MouseYRelativeToElement/16))
		
		document.getElementById("SVGMouseOverBlockXY").textContent = "X: " + BlockXPos.toString(10).padStart(Setting_PadLength_Decimal_XPos, "0") + " ($" + BlockXPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_XPos, "0") + ")\nY: " + BlockYPos.toString(10).padStart(Setting_PadLength_Decimal_YPos, "0") + " ($" + BlockYPos.toString(16).toUpperCase().padStart(Setting_PadLength_Hex_YPos, "0") + ")"
	}
	function createSVGElement(tag) { //https://stackoverflow.com/questions/57894500/why-is-it-necessary-to-use-document-createelementns-when-adding-svg-tags-to
		return document.createElementNS('http://www.w3.org/2000/svg', tag)
	}
</script>